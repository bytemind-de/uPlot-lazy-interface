//https://github.com/errcw/gaussian - MIT license
(function(){function a(a,c){var d=Math.random(),e=Math.random(),f=Math.sqrt(-2*Math.log(d))*Math.cos(b*e),g=Math.sqrt(-2*Math.log(d))*Math.sin(b*e);return f*c+a}const b=2*Math.PI;var c=function(a){var b=Math.abs(a),c=1/(1+b/2),d=c*Math.exp(-b*b-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c)))))))));return 0<=a?d:2-d},d=function(a){if(2<=a)return-100;if(0>=a)return 100;for(var b,d=1>a?a:2-a,e=Math.sqrt(-2*Math.log(d/2)),f=-.70711*((2.30753+.27061*e)/(1+e*(.99229+.04481*e))-e),g=0;2>g;g++)b=c(f)-d,f+=b/(1.1283791670955126*Math.exp(-(f*f))-f*b);return 1>a?f:-f},e=function(a,b){if(0>=b)throw new Error("Variance must be > 0 (but was "+b+")");this.mean=a,this.variance=b,this.standardDeviation=Math.sqrt(b)};e.prototype.pdf=function(a){var b=this.standardDeviation*Math.sqrt(2*Math.PI),c=Math.exp(-Math.pow(a-this.mean,2)/(2*this.variance));return c/b},e.prototype.cdf=function(a){return .5*c(-(a-this.mean)/(this.standardDeviation*Math.sqrt(2)))},e.prototype.ppf=function(a){return this.mean-this.standardDeviation*Math.sqrt(2)*d(2*a)},e.prototype.mul=function(a){if("number"==typeof a)return this.scale(a);var b=1/this.variance,c=1/a.variance;return g(b+c,b*this.mean+c*a.mean)},e.prototype.div=function(a){if("number"==typeof a)return this.scale(1/a);var b=1/this.variance,c=1/a.variance;return g(b-c,b*this.mean-c*a.mean)},e.prototype.add=function(a){return f(this.mean+a.mean,this.variance+a.variance)},e.prototype.sub=function(a){return f(this.mean-a.mean,this.variance+a.variance)},e.prototype.scale=function(a){return f(this.mean*a,this.variance*a*a)},e.prototype.random=function(b){let c=this.mean,d=this.standardDeviation;return Array(b).fill(0).map(()=>a(c,d))};var f=function(a,b){return new e(a,b)},g=function(a,b){return f(b/a,1/a)};window.gaussian=f})();